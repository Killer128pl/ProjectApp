

--- PLIK: Program.cs ---

using System.Globalization;
using ProjectApp.Abstractions;
using ProjectApp.DataAccess.Memory;
using ProjectApp.DataAccess.Memory.Repositories;
using ProjectApp.ServiceAbstractions;
using ProjectApp.Services;

var db = new MemoryDbContext();

IPackageRepository packageRepo = new PackageRepositoryMemory(db);

IPackageService packageSvc = new PackageService(packageRepo);

DataSeeder seeder = new DataSeeder(packageSvc);
seeder.Seed();

Console.WriteLine("Dane zseedowane. Dostepne paczki:");
ShowPackages(packageSvc, true);

static void ShowPackages(IPackageService packageSvc, bool showPackages)
{
    var packages = packageSvc.GetAll();
    if (packages.Any())
    {
        Console.WriteLine("Brak paczek.");
        return;
    }
    Console.WriteLine("---- Paczki: ----");

    foreach (var p in packages)
    {
        Console.WriteLine(p.ToString());
    }
}


--- PLIK: .NETCoreApp,Version=v8.0.AssemblyAttributes.cs ---

// <autogenerated />
using System;
using System.Reflection;
[assembly: global::System.Runtime.Versioning.TargetFrameworkAttribute(".NETCoreApp,Version=v8.0", FrameworkDisplayName = ".NET 8.0")]


--- PLIK: ProjectApp.Console.AssemblyInfo.cs ---

//------------------------------------------------------------------------------
// <auto-generated>
//     Ten kod zostaÅ‚ wygenerowany przez narzÄ™dzie.
//     Wersja wykonawcza:4.0.30319.42000
//
//     Zmiany w tym pliku mogÄ… spowodowaÄ‡ nieprawidÅ‚owe zachowanie i zostanÄ… utracone, jeÅ›li
//     kod zostanie ponownie wygenerowany.
// </auto-generated>
//------------------------------------------------------------------------------

using System;
using System.Reflection;

[assembly: System.Reflection.AssemblyCompanyAttribute("ProjectApp.Console")]
[assembly: System.Reflection.AssemblyConfigurationAttribute("Debug")]
[assembly: System.Reflection.AssemblyFileVersionAttribute("1.0.0.0")]
[assembly: System.Reflection.AssemblyInformationalVersionAttribute("1.0.0+f0f25280a038ba61c523c8171ba8c6cb92b7ae34")]
[assembly: System.Reflection.AssemblyProductAttribute("ProjectApp.Console")]
[assembly: System.Reflection.AssemblyTitleAttribute("ProjectApp.Console")]
[assembly: System.Reflection.AssemblyVersionAttribute("1.0.0.0")]

// Wygenerowane przez klasÄ™ WriteCodeFragment programu MSBuild.



--- PLIK: ProjectApp.Console.GlobalUsings.g.cs ---

// <auto-generated/>
global using global::System;
global using global::System.Collections.Generic;
global using global::System.IO;
global using global::System.Linq;
global using global::System.Net.Http;
global using global::System.Threading;
global using global::System.Threading.Tasks;


--- PLIK: Class1.cs ---

namespace ProjectApp.Abstractions
{
    public class Class1
    {

    }
}


--- PLIK: IPackageRepository.cs ---

using ProjectApp.DataModel;

namespace ProjectApp.Abstractions
{
    public interface IPackageRepository
    {
        IQueryable<Package> Query();
        Package? Get(Guid id);
        void Add(Package entity);
        void Remove(Package entity);
        IEnumerable<Package> GetAll();
    }
}


--- PLIK: .NETCoreApp,Version=v8.0.AssemblyAttributes.cs ---

// <autogenerated />
using System;
using System.Reflection;
[assembly: global::System.Runtime.Versioning.TargetFrameworkAttribute(".NETCoreApp,Version=v8.0", FrameworkDisplayName = ".NET 8.0")]


--- PLIK: ProjectApp.Abstractions.AssemblyInfo.cs ---

//------------------------------------------------------------------------------
// <auto-generated>
//     Ten kod zostaÅ‚ wygenerowany przez narzÄ™dzie.
//     Wersja wykonawcza:4.0.30319.42000
//
//     Zmiany w tym pliku mogÄ… spowodowaÄ‡ nieprawidÅ‚owe zachowanie i zostanÄ… utracone, jeÅ›li
//     kod zostanie ponownie wygenerowany.
// </auto-generated>
//------------------------------------------------------------------------------

using System;
using System.Reflection;

[assembly: System.Reflection.AssemblyCompanyAttribute("ProjectApp.Abstractions")]
[assembly: System.Reflection.AssemblyConfigurationAttribute("Debug")]
[assembly: System.Reflection.AssemblyFileVersionAttribute("1.0.0.0")]
[assembly: System.Reflection.AssemblyInformationalVersionAttribute("1.0.0+f0f25280a038ba61c523c8171ba8c6cb92b7ae34")]
[assembly: System.Reflection.AssemblyProductAttribute("ProjectApp.Abstractions")]
[assembly: System.Reflection.AssemblyTitleAttribute("ProjectApp.Abstractions")]
[assembly: System.Reflection.AssemblyVersionAttribute("1.0.0.0")]

// Wygenerowane przez klasÄ™ WriteCodeFragment programu MSBuild.



--- PLIK: ProjectApp.Abstractions.GlobalUsings.g.cs ---

// <auto-generated/>
global using global::System;
global using global::System.Collections.Generic;
global using global::System.IO;
global using global::System.Linq;
global using global::System.Net.Http;
global using global::System.Threading;
global using global::System.Threading.Tasks;


--- PLIK: MemoryDbContext.cs ---

using ProjectApp.DataModel;

namespace ProjectApp.DataAccess.Memory
{
    public class MemoryDbContext
    {
        public List<Package> packages { get; } = new();

        public List<Package> sentPackages { get; } = new();
    }
}


--- PLIK: UnitOfWorkMemory.cs ---

using System;
using System.Collections.Generic;
using System.Linq;
using System.Text;
using System.Threading.Tasks;

namespace ProjectApp.DataAccess.Memory
{
    internal class UnitOfWorkMemory
    {
    }
}


--- PLIK: .NETCoreApp,Version=v8.0.AssemblyAttributes.cs ---

// <autogenerated />
using System;
using System.Reflection;
[assembly: global::System.Runtime.Versioning.TargetFrameworkAttribute(".NETCoreApp,Version=v8.0", FrameworkDisplayName = ".NET 8.0")]


--- PLIK: ProjectApp.DataAccess.Memory.AssemblyInfo.cs ---

//------------------------------------------------------------------------------
// <auto-generated>
//     Ten kod zostaÅ‚ wygenerowany przez narzÄ™dzie.
//     Wersja wykonawcza:4.0.30319.42000
//
//     Zmiany w tym pliku mogÄ… spowodowaÄ‡ nieprawidÅ‚owe zachowanie i zostanÄ… utracone, jeÅ›li
//     kod zostanie ponownie wygenerowany.
// </auto-generated>
//------------------------------------------------------------------------------

using System;
using System.Reflection;

[assembly: System.Reflection.AssemblyCompanyAttribute("ProjectApp.DataAccess.Memory")]
[assembly: System.Reflection.AssemblyConfigurationAttribute("Debug")]
[assembly: System.Reflection.AssemblyFileVersionAttribute("1.0.0.0")]
[assembly: System.Reflection.AssemblyInformationalVersionAttribute("1.0.0+f0f25280a038ba61c523c8171ba8c6cb92b7ae34")]
[assembly: System.Reflection.AssemblyProductAttribute("ProjectApp.DataAccess.Memory")]
[assembly: System.Reflection.AssemblyTitleAttribute("ProjectApp.DataAccess.Memory")]
[assembly: System.Reflection.AssemblyVersionAttribute("1.0.0.0")]

// Wygenerowane przez klasÄ™ WriteCodeFragment programu MSBuild.



--- PLIK: ProjectApp.DataAccess.Memory.GlobalUsings.g.cs ---

// <auto-generated/>
global using global::System;
global using global::System.Collections.Generic;
global using global::System.IO;
global using global::System.Linq;
global using global::System.Net.Http;
global using global::System.Threading;
global using global::System.Threading.Tasks;


--- PLIK: PackageRepositoryMemory.cs ---

using ProjectApp.Abstractions;
using ProjectApp.DataModel;
using System.Reflection.Metadata;

namespace ProjectApp.DataAccess.Memory.Repositories
{
    public class PackageRepositoryMemory : IPackageRepository
    {
        private readonly MemoryDbContext _db;
        public PackageRepositoryMemory(MemoryDbContext db) => _db = db;
        public IQueryable<Package> Query() => _db.packages.AsQueryable();
        public Package? Get(Guid id) => _db.packages.FirstOrDefault(p => p.TrackingNumber == id);
        public void Add(Package entity) => _db.packages.Add(entity);
        public void Remove(Package entity) => _db.packages.Remove(entity);
        public IEnumerable<Package> GetAll() => _db.packages.GetAll();
    }
}


--- PLIK: Client.cs ---

namespace ProjectApp.DataModel
{
    public class Client : PersonalData
    {
        private int clientId {  get; set; }
        private List<Package>? sentPackages { get; set; }
        public Package sendPackage() {}
    }
}


--- PLIK: Package.cs ---

namespace ProjectApp.DataModel
{
    public class Package : Client
    {
        public Guid TrackingNumber { get; set; }
        public DateTime SentDate { get; set; }
        public float Weight { get; set; }
        public string? Size { get; set; }
        public PackageStatus packageStatus { get; set; }
        public PaymentStatus paymentStatus { get; set; }
        public void updateStatus() { }
        public override string ToString()
        {
            return $"Numer paczki: {TrackingNumber},\nData nadania: {SentDate.ToString()},\nWaga: {Weight}kg,\nRozmiar: {Size};";
        }

    }

}


--- PLIK: PersonalData.cs ---

namespace ProjectApp.DataModel
{
    public class PersonalData
    {
        private string? firstName { get; set; }
        private string? lastName { get; set; }
        private string? address { get; set; }
        private int phoneNumber { get; set; }
        private string? email { get; set; }
        public void displayData() { }
    }
}


--- PLIK: Statuses.cs ---

namespace ProjectApp.DataModel
{
    public enum PackageStatus
    {
        Sent,
        InTransit,
        Delivered,
        Damaged
    }

    public enum PaymentStatus
    {
        Paid,
        NotPaid,
        OnDeliveryPayment
    }
}


--- PLIK: Storage.cs ---

namespace ProjectApp.DataModel
{  public class Storage : Package
    {
        public Guid storageId { get; set; }
        public Package package { get; set; }
        public Worker assignedWorker { get; set; }
        public Vehicle assignedVehicle { get; set; }
        public DateTime assignDate { get; set; }
        public List<Package> packages { get; set; }

        public Storage(){}

        public void UpdateAssignment(){}

        public void DisplayStorageInfo(){}
    }

}


--- PLIK: Vehicle.cs ---

namespace ProjectApp.DataModel
{
    public class Vehicle
    {
        public Guid vehicleId {  get; set; }
        public string? brand {  get; set; }
        public string? model { get; set; }
        public string? regNumber { get; set; }
        public string? vehicleStatus { get; set; }
        public void updateStatus() { }
    }
}


--- PLIK: Worker.cs ---

namespace ProjectApp.DataModel
{
    public class Worker : PersonalData
    {
        private int workerId {  get; set; }
        private string? position { get; set; }
        private Vehicle assignedVehicle { get; set; }
        public void assignVehicle() { }
        public void deliverPackage() { }
    }
}


--- PLIK: .NETCoreApp,Version=v8.0.AssemblyAttributes.cs ---

// <autogenerated />
using System;
using System.Reflection;
[assembly: global::System.Runtime.Versioning.TargetFrameworkAttribute(".NETCoreApp,Version=v8.0", FrameworkDisplayName = ".NET 8.0")]


--- PLIK: ProjectApp.DataModel.AssemblyInfo.cs ---

//------------------------------------------------------------------------------
// <auto-generated>
//     Ten kod zostaÅ‚ wygenerowany przez narzÄ™dzie.
//     Wersja wykonawcza:4.0.30319.42000
//
//     Zmiany w tym pliku mogÄ… spowodowaÄ‡ nieprawidÅ‚owe zachowanie i zostanÄ… utracone, jeÅ›li
//     kod zostanie ponownie wygenerowany.
// </auto-generated>
//------------------------------------------------------------------------------

using System;
using System.Reflection;

[assembly: System.Reflection.AssemblyCompanyAttribute("ProjectApp.DataModel")]
[assembly: System.Reflection.AssemblyConfigurationAttribute("Debug")]
[assembly: System.Reflection.AssemblyFileVersionAttribute("1.0.0.0")]
[assembly: System.Reflection.AssemblyInformationalVersionAttribute("1.0.0+f0f25280a038ba61c523c8171ba8c6cb92b7ae34")]
[assembly: System.Reflection.AssemblyProductAttribute("ProjectApp.DataModel")]
[assembly: System.Reflection.AssemblyTitleAttribute("ProjectApp.DataModel")]
[assembly: System.Reflection.AssemblyVersionAttribute("1.0.0.0")]

// Wygenerowane przez klasÄ™ WriteCodeFragment programu MSBuild.



--- PLIK: ProjectApp.DataModel.GlobalUsings.g.cs ---

// <auto-generated/>
global using global::System;
global using global::System.Collections.Generic;
global using global::System.IO;
global using global::System.Linq;
global using global::System.Net.Http;
global using global::System.Threading;
global using global::System.Threading.Tasks;


--- PLIK: IDataSeeder.cs ---

using System;
using System.Collections.Generic;
using System.Linq;
using System.Text;
using System.Threading.Tasks;

namespace ProjectApp.ServiceAbstractions
{
    public interface IDataSeeder
    {
        SeedResult Seed();
    }
    public sealed class SeedResult
    {
        public Guid pckg1 { get; init; }
        public Guid pckg2 { get; init; }
        public Guid pckg3 { get; init; }
    }
}


--- PLIK: IPackageService.cs ---

using ProjectApp.DataModel;

namespace ProjectApp.ServiceAbstractions
{
    public interface IPackageService
    {
        bool UpdatePackageStatus(Guid trackingNumber, PackageStatus status);

        bool UpdatePaymentStatus(Guid trackingNumber, PaymentStatus status);

        public Guid CreatePackage(Guid trackingNumber, DateTime sentDate, float weight, string size);

        IReadOnlyList<Package> GetAll();

        IEnumerable<Package> Search(Guid trackingNumber);
    }
}


--- PLIK: .NETCoreApp,Version=v8.0.AssemblyAttributes.cs ---

// <autogenerated />
using System;
using System.Reflection;
[assembly: global::System.Runtime.Versioning.TargetFrameworkAttribute(".NETCoreApp,Version=v8.0", FrameworkDisplayName = ".NET 8.0")]


--- PLIK: ProjectApp.ServiceAbstractions.AssemblyInfo.cs ---

//------------------------------------------------------------------------------
// <auto-generated>
//     Ten kod zostaÅ‚ wygenerowany przez narzÄ™dzie.
//     Wersja wykonawcza:4.0.30319.42000
//
//     Zmiany w tym pliku mogÄ… spowodowaÄ‡ nieprawidÅ‚owe zachowanie i zostanÄ… utracone, jeÅ›li
//     kod zostanie ponownie wygenerowany.
// </auto-generated>
//------------------------------------------------------------------------------

using System;
using System.Reflection;

[assembly: System.Reflection.AssemblyCompanyAttribute("ProjectApp.ServiceAbstractions")]
[assembly: System.Reflection.AssemblyConfigurationAttribute("Debug")]
[assembly: System.Reflection.AssemblyFileVersionAttribute("1.0.0.0")]
[assembly: System.Reflection.AssemblyInformationalVersionAttribute("1.0.0+f0f25280a038ba61c523c8171ba8c6cb92b7ae34")]
[assembly: System.Reflection.AssemblyProductAttribute("ProjectApp.ServiceAbstractions")]
[assembly: System.Reflection.AssemblyTitleAttribute("ProjectApp.ServiceAbstractions")]
[assembly: System.Reflection.AssemblyVersionAttribute("1.0.0.0")]

// Wygenerowane przez klasÄ™ WriteCodeFragment programu MSBuild.



--- PLIK: ProjectApp.ServiceAbstractions.GlobalUsings.g.cs ---

// <auto-generated/>
global using global::System;
global using global::System.Collections.Generic;
global using global::System.IO;
global using global::System.Linq;
global using global::System.Net.Http;
global using global::System.Threading;
global using global::System.Threading.Tasks;


--- PLIK: DataSeeder.cs ---

using ProjectApp.ServiceAbstractions;
using System;
using System.Collections.Generic;
using System.Drawing;
using System.Linq;
using System.Text;
using System.Threading.Tasks;

namespace ProjectApp.Services
{
    public class DataSeeder : IDataSeeder
    {
        private readonly IPackageService _packageService;

        public DataSeeder(IPackageService packageService)
        {
            _packageService = packageService;
        }

        public SeedResult Seed()
        {
            var p2 = Guid.Parse("2137");

            var paczka1 = _packageService.CreatePackage(Guid.NewGuid(), new DateTime(2025, 5, 5), 2.5f, "Big");
            var paczka2 = _packageService.CreatePackage(p2, new DateTime(2024, 7, 12), 2.5f, "Small");
            var paczka3 = _packageService.CreatePackage(Guid.NewGuid(), new DateTime(2023, 2, 9), 2.5f, "Very Big");

            return new SeedResult
            {
                pckg1 = paczka1,
                pckg2 = paczka2,
                pckg3 = paczka3
            };

        }
    }
}


--- PLIK: PackageService.cs ---

using ProjectApp.Abstractions;
using ProjectApp.DataModel;
using ProjectApp.ServiceAbstractions;
using System.Text.RegularExpressions;

namespace ProjectApp.Services;

public class PackageService : IPackageService
{
    private readonly IPackageRepository _packages;

    public PackageService(IPackageRepository packages)
    {
        _packages = packages;
    }
    public Guid CreatePackage(Guid trackingNumber, DateTime sentDate,
        float weight, string size)
    {
        var package = new Package
        {
            TrackingNumber = trackingNumber,
            SentDate = sentDate,
            Weight = weight,
            Size = size
        };

        _packages.Add(package);
        return package.TrackingNumber;
    }
    public Package? Get(Guid trackingNumber)
    {
        return _packages.Get(trackingNumber);
    }
    public IReadOnlyList<Package> GetAll()
    {
        return _packages.Query().OrderBy(m => m.SentDate).ToList();
    }
    public IEnumerable<Package> Search(Guid trackingNumber)
    {
        return _packages.GetAll().Where(p => p.TrackingNumber == trackingNumber);
    }
    public bool UpdatePackageStatus(Guid trackingNumber, PackageStatus status)
    {
        var m = _packages.Get(trackingNumber);
        if (m is null) return false;
        m.packageStatus = status;
        return true;
    }
    public bool UpdatePaymentStatus(Guid trackingNumber, PaymentStatus status)
    {
        var m = _packages.Get(trackingNumber);
        if (m is null) return false;
        m.paymentStatus = status;
        return true;
    }
    public bool Delete(Guid trackingNumber)
    {
        var m = _packages.Get(trackingNumber);
        if (m is null) return false;
        _packages.Remove(m);
        return true;
    }
}


--- PLIK: .NETCoreApp,Version=v8.0.AssemblyAttributes.cs ---

// <autogenerated />
using System;
using System.Reflection;
[assembly: global::System.Runtime.Versioning.TargetFrameworkAttribute(".NETCoreApp,Version=v8.0", FrameworkDisplayName = ".NET 8.0")]


--- PLIK: ProjectApp.Services.AssemblyInfo.cs ---

//------------------------------------------------------------------------------
// <auto-generated>
//     Ten kod zostaÅ‚ wygenerowany przez narzÄ™dzie.
//     Wersja wykonawcza:4.0.30319.42000
//
//     Zmiany w tym pliku mogÄ… spowodowaÄ‡ nieprawidÅ‚owe zachowanie i zostanÄ… utracone, jeÅ›li
//     kod zostanie ponownie wygenerowany.
// </auto-generated>
//------------------------------------------------------------------------------

using System;
using System.Reflection;

[assembly: System.Reflection.AssemblyCompanyAttribute("ProjectApp.Services")]
[assembly: System.Reflection.AssemblyConfigurationAttribute("Debug")]
[assembly: System.Reflection.AssemblyFileVersionAttribute("1.0.0.0")]
[assembly: System.Reflection.AssemblyInformationalVersionAttribute("1.0.0+f0f25280a038ba61c523c8171ba8c6cb92b7ae34")]
[assembly: System.Reflection.AssemblyProductAttribute("ProjectApp.Services")]
[assembly: System.Reflection.AssemblyTitleAttribute("ProjectApp.Services")]
[assembly: System.Reflection.AssemblyVersionAttribute("1.0.0.0")]

// Wygenerowane przez klasÄ™ WriteCodeFragment programu MSBuild.



--- PLIK: ProjectApp.Services.GlobalUsings.g.cs ---

// <auto-generated/>
global using global::System;
global using global::System.Collections.Generic;
global using global::System.IO;
global using global::System.Linq;
global using global::System.Net.Http;
global using global::System.Threading;
global using global::System.Threading.Tasks;


--- PLIK: InMemoryServicesFixture.cs ---

using ProjectApp.DataAccess.Memory;
using ProjectApp.DataAccess.Memory.Repositories;
using ProjectApp.Abstractions;
using ProjectApp.Services;
using ProjectApp.ServiceAbstractions;

public class InMemoryServicesFixture
{
    private DataSeeder _dataSeeder;
    public IPackageService PackageService { get; }

    public InMemoryServicesFixture()
    {
        var db = new MemoryDbContext();

        IPackageRepository packageRepo = new PackageRepositoryMemory(db);

        _dataSeeder = new DataSeeder(PackageService);
        _dataSeeder.Seed();
    }
}


--- PLIK: PackageServiceTests.cs ---

using ProjectApp.ServiceAbstractions;
using Xunit;

public class PackageServiceTest : IClassFixture<InMemoryServicesFixture>
{
    private readonly IPackageService _packageService;

    public PackageServiceTest(InMemoryServicesFixture fx)
    {
        _packageService = fx.PackageService;

    }
    [Fact]
    public void Search_ShouldFindPackage2137()
    {
        var id = Guid.Parse("2137");
        var results = _packageService.Search(id);
        Assert.Contains(results, p => p.TrackingNumber == id);
    }
}


--- PLIK: .NETCoreApp,Version=v8.0.AssemblyAttributes.cs ---

// <autogenerated />
using System;
using System.Reflection;
[assembly: global::System.Runtime.Versioning.TargetFrameworkAttribute(".NETCoreApp,Version=v8.0", FrameworkDisplayName = ".NET 8.0")]


--- PLIK: ProjectApp.Test.AssemblyInfo.cs ---

//------------------------------------------------------------------------------
// <auto-generated>
//     Ten kod zostaÅ‚ wygenerowany przez narzÄ™dzie.
//     Wersja wykonawcza:4.0.30319.42000
//
//     Zmiany w tym pliku mogÄ… spowodowaÄ‡ nieprawidÅ‚owe zachowanie i zostanÄ… utracone, jeÅ›li
//     kod zostanie ponownie wygenerowany.
// </auto-generated>
//------------------------------------------------------------------------------

using System;
using System.Reflection;

[assembly: System.Reflection.AssemblyCompanyAttribute("ProjectApp.Test")]
[assembly: System.Reflection.AssemblyConfigurationAttribute("Debug")]
[assembly: System.Reflection.AssemblyFileVersionAttribute("1.0.0.0")]
[assembly: System.Reflection.AssemblyInformationalVersionAttribute("1.0.0+f0f25280a038ba61c523c8171ba8c6cb92b7ae34")]
[assembly: System.Reflection.AssemblyProductAttribute("ProjectApp.Test")]
[assembly: System.Reflection.AssemblyTitleAttribute("ProjectApp.Test")]
[assembly: System.Reflection.AssemblyVersionAttribute("1.0.0.0")]

// Wygenerowane przez klasÄ™ WriteCodeFragment programu MSBuild.



--- PLIK: ProjectApp.Test.GlobalUsings.g.cs ---

// <auto-generated/>
global using global::System;
global using global::System.Collections.Generic;
global using global::System.IO;
global using global::System.Linq;
global using global::System.Net.Http;
global using global::System.Threading;
global using global::System.Threading.Tasks;
global using global::Xunit;


--- PLIK: Program.cs ---

using ProjectApp.Abstractions;
using ProjectApp.DataAccess.Memory;
using ProjectApp.DataAccess.Memory.Repositories;
using ProjectApp.Services;

var db = new MemoryDbContext();

IPackageRepository packageRepo = new PackageRepositoryMemory(db);
var packageSvc = new PackageService(packageRepo);
var logisticsSvc = new LogisticsService(db);

DataSeeder seeder = new DataSeeder(packageSvc, db);
var seeds = seeder.Seed();

Console.WriteLine("=== SYSTEM LOGISTYCZNY ===");
Console.WriteLine("\n[1] Lista paczek (przed przypisaniem):");
foreach (var p in packageSvc.GetAll()) Console.WriteLine(p);

var kurier = db.Workers.First(w => w.Position == "Kurier");
var auto = db.Vehicles.First();

Console.WriteLine($"\n[2] Przypisywanie pojazdu {auto.Brand} do kuriera {kurier.LastName}...");
bool vehicleAssigned = logisticsSvc.AssignVehicleToWorker(kurier.WorkerId, auto.VehicleId);
Console.WriteLine(vehicleAssigned ? "SUKCES: Pojazd przypisany." : "B£¥D: Nie uda³o siê przypisaæ pojazdu.");

Console.WriteLine($"\n[3] Przypisywanie paczki {seeds.pckg1} do kuriera...");
bool packageAssigned = logisticsSvc.AssignPackageToCourier(seeds.pckg1, kurier.WorkerId);
Console.WriteLine(packageAssigned ? "SUKCES: Paczka wydana." : "B£¥D: Nie mo¿na wydaæ paczki.");

Console.WriteLine("\n[4] Lista paczek (po operacjach):");
foreach (var p in packageSvc.GetAll()) Console.WriteLine(p);


--- PLIK: .NETCoreApp,Version=v8.0.AssemblyAttributes.cs ---

// <autogenerated />
using System;
using System.Reflection;
[assembly: global::System.Runtime.Versioning.TargetFrameworkAttribute(".NETCoreApp,Version=v8.0", FrameworkDisplayName = ".NET 8.0")]


--- PLIK: ProjectApp.Console.AssemblyInfo.cs ---

//------------------------------------------------------------------------------
// <auto-generated>
//     Ten kod zostaÅ‚ wygenerowany przez narzÄ™dzie.
//     Wersja wykonawcza:4.0.30319.42000
//
//     Zmiany w tym pliku mogÄ… spowodowaÄ‡ nieprawidÅ‚owe zachowanie i zostanÄ… utracone, jeÅ›li
//     kod zostanie ponownie wygenerowany.
// </auto-generated>
//------------------------------------------------------------------------------

using System;
using System.Reflection;

[assembly: System.Reflection.AssemblyCompanyAttribute("ProjectApp.Console")]
[assembly: System.Reflection.AssemblyConfigurationAttribute("Debug")]
[assembly: System.Reflection.AssemblyFileVersionAttribute("1.0.0.0")]
[assembly: System.Reflection.AssemblyInformationalVersionAttribute("1.0.0+f0f25280a038ba61c523c8171ba8c6cb92b7ae34")]
[assembly: System.Reflection.AssemblyProductAttribute("ProjectApp.Console")]
[assembly: System.Reflection.AssemblyTitleAttribute("ProjectApp.Console")]
[assembly: System.Reflection.AssemblyVersionAttribute("1.0.0.0")]

// Wygenerowane przez klasÄ™ WriteCodeFragment programu MSBuild.



--- PLIK: ProjectApp.Console.GlobalUsings.g.cs ---

// <auto-generated/>
global using global::System;
global using global::System.Collections.Generic;
global using global::System.IO;
global using global::System.Linq;
global using global::System.Net.Http;
global using global::System.Threading;
global using global::System.Threading.Tasks;


--- PLIK: Class1.cs ---

namespace ProjectApp.Abstractions
{
    public class Class1
    {

    }
}


--- PLIK: IPackageRepository.cs ---

using ProjectApp.DataModel;

namespace ProjectApp.Abstractions
{
    public interface IPackageRepository
    {
        IQueryable<Package> Query();
        Package? Get(Guid id);
        void Add(Package entity);
        void Remove(Package entity);
        IEnumerable<Package> GetAll();
    }
}


--- PLIK: .NETCoreApp,Version=v8.0.AssemblyAttributes.cs ---

// <autogenerated />
using System;
using System.Reflection;
[assembly: global::System.Runtime.Versioning.TargetFrameworkAttribute(".NETCoreApp,Version=v8.0", FrameworkDisplayName = ".NET 8.0")]


--- PLIK: ProjectApp.Abstractions.AssemblyInfo.cs ---

//------------------------------------------------------------------------------
// <auto-generated>
//     Ten kod zostaÅ‚ wygenerowany przez narzÄ™dzie.
//     Wersja wykonawcza:4.0.30319.42000
//
//     Zmiany w tym pliku mogÄ… spowodowaÄ‡ nieprawidÅ‚owe zachowanie i zostanÄ… utracone, jeÅ›li
//     kod zostanie ponownie wygenerowany.
// </auto-generated>
//------------------------------------------------------------------------------

using System;
using System.Reflection;

[assembly: System.Reflection.AssemblyCompanyAttribute("ProjectApp.Abstractions")]
[assembly: System.Reflection.AssemblyConfigurationAttribute("Debug")]
[assembly: System.Reflection.AssemblyFileVersionAttribute("1.0.0.0")]
[assembly: System.Reflection.AssemblyInformationalVersionAttribute("1.0.0+f0f25280a038ba61c523c8171ba8c6cb92b7ae34")]
[assembly: System.Reflection.AssemblyProductAttribute("ProjectApp.Abstractions")]
[assembly: System.Reflection.AssemblyTitleAttribute("ProjectApp.Abstractions")]
[assembly: System.Reflection.AssemblyVersionAttribute("1.0.0.0")]

// Wygenerowane przez klasÄ™ WriteCodeFragment programu MSBuild.



--- PLIK: ProjectApp.Abstractions.GlobalUsings.g.cs ---

// <auto-generated/>
global using global::System;
global using global::System.Collections.Generic;
global using global::System.IO;
global using global::System.Linq;
global using global::System.Net.Http;
global using global::System.Threading;
global using global::System.Threading.Tasks;


--- PLIK: MemoryDbContext.cs ---

using ProjectApp.DataModel;

namespace ProjectApp.DataAccess.Memory
{
    public class MemoryDbContext
    {
        public List<Package> Packages { get; } = new();
        public List<Worker> Workers { get; } = new();
        public List<Vehicle> Vehicles { get; } = new();
        public List<Client> Clients { get; } = new();
        public List<Storage> Storages { get; } = new();
    }
}


--- PLIK: UnitOfWorkMemory.cs ---

using System;
using System.Collections.Generic;
using System.Linq;
using System.Text;
using System.Threading.Tasks;

namespace ProjectApp.DataAccess.Memory
{
    internal class UnitOfWorkMemory
    {
    }
}


--- PLIK: .NETCoreApp,Version=v8.0.AssemblyAttributes.cs ---

// <autogenerated />
using System;
using System.Reflection;
[assembly: global::System.Runtime.Versioning.TargetFrameworkAttribute(".NETCoreApp,Version=v8.0", FrameworkDisplayName = ".NET 8.0")]


--- PLIK: ProjectApp.DataAccess.Memory.AssemblyInfo.cs ---

//------------------------------------------------------------------------------
// <auto-generated>
//     Ten kod zostaÅ‚ wygenerowany przez narzÄ™dzie.
//     Wersja wykonawcza:4.0.30319.42000
//
//     Zmiany w tym pliku mogÄ… spowodowaÄ‡ nieprawidÅ‚owe zachowanie i zostanÄ… utracone, jeÅ›li
//     kod zostanie ponownie wygenerowany.
// </auto-generated>
//------------------------------------------------------------------------------

using System;
using System.Reflection;

[assembly: System.Reflection.AssemblyCompanyAttribute("ProjectApp.DataAccess.Memory")]
[assembly: System.Reflection.AssemblyConfigurationAttribute("Debug")]
[assembly: System.Reflection.AssemblyFileVersionAttribute("1.0.0.0")]
[assembly: System.Reflection.AssemblyInformationalVersionAttribute("1.0.0+f0f25280a038ba61c523c8171ba8c6cb92b7ae34")]
[assembly: System.Reflection.AssemblyProductAttribute("ProjectApp.DataAccess.Memory")]
[assembly: System.Reflection.AssemblyTitleAttribute("ProjectApp.DataAccess.Memory")]
[assembly: System.Reflection.AssemblyVersionAttribute("1.0.0.0")]

// Wygenerowane przez klasÄ™ WriteCodeFragment programu MSBuild.



--- PLIK: ProjectApp.DataAccess.Memory.GlobalUsings.g.cs ---

// <auto-generated/>
global using global::System;
global using global::System.Collections.Generic;
global using global::System.IO;
global using global::System.Linq;
global using global::System.Net.Http;
global using global::System.Threading;
global using global::System.Threading.Tasks;


--- PLIK: PackageRepositoryMemory.cs ---

using ProjectApp.Abstractions;
using ProjectApp.DataModel;

namespace ProjectApp.DataAccess.Memory.Repositories
{
    public class PackageRepositoryMemory : IPackageRepository
    {
        private readonly MemoryDbContext _db;

        public PackageRepositoryMemory(MemoryDbContext db) => _db = db;

        public IQueryable<Package> Query() => _db.Packages.AsQueryable();

        public Package? Get(Guid id) => _db.Packages.FirstOrDefault(p => p.TrackingNumber == id);

        public void Add(Package entity) => _db.Packages.Add(entity);

        public void Remove(Package entity) => _db.Packages.Remove(entity);

        public IEnumerable<Package> GetAll() => _db.Packages;
    }
}


--- PLIK: Client.cs ---

namespace ProjectApp.DataModel
{
    public class Client : PersonalData
    {
        public Guid ClientId { get; set; } = Guid.NewGuid();
    }
}


--- PLIK: Package.cs ---

namespace ProjectApp.DataModel
{
    public class Package
    {
        public Guid TrackingNumber { get; set; }
        public DateTime SentDate { get; set; }
        public float Weight { get; set; }
        public string? Size { get; set; }
        public PackageStatus PackageStatus { get; set; }
        public PaymentStatus PaymentStatus { get; set; }
        public Guid? AssignedWorkerId { get; set; }

        public override string ToString()
        {
            return $"Numer: {TrackingNumber} | Status: {PackageStatus} | Waga: {Weight}kg | KurierID: {(AssignedWorkerId.HasValue ? AssignedWorkerId.ToString() : "Brak")}";
        }
    }
}


--- PLIK: PersonalData.cs ---

namespace ProjectApp.DataModel
{
    public class PersonalData
    {
        public string? FirstName { get; set; }
        public string? LastName { get; set; }
        public string? Address { get; set; }
        public int PhoneNumber { get; set; }
        public string? Email { get; set; }
    }
}


--- PLIK: Statuses.cs ---

namespace ProjectApp.DataModel
{
    public enum PackageStatus
    {
        Sent,
        InTransit,
        Delivered,
        Damaged
    }

    public enum PaymentStatus
    {
        Paid,
        NotPaid,
        OnDeliveryPayment
    }
}


--- PLIK: Storage.cs ---

namespace ProjectApp.DataModel
{
    public class Storage
    {
        public Guid StorageId { get; set; } = Guid.NewGuid();
        public string Name { get; set; } = "Main Storage";
        public List<Package> StoredPackages { get; set; } = new();
    }
}


--- PLIK: Vehicle.cs ---

namespace ProjectApp.DataModel
{
    public class Vehicle
    {
        public Guid VehicleId { get; set; } = Guid.NewGuid();
        public string? Brand { get; set; }
        public string? Model { get; set; }
        public string? RegNumber { get; set; }
        public string VehicleStatus { get; set; } = "Available";
    }
}


--- PLIK: Worker.cs ---

namespace ProjectApp.DataModel
{
    public class Worker : PersonalData
    {
        public Guid WorkerId { get; set; } = Guid.NewGuid();
        public string? Position { get; set; }
        public Guid? AssignedVehicleId { get; set; }
    }
}


--- PLIK: .NETCoreApp,Version=v8.0.AssemblyAttributes.cs ---

// <autogenerated />
using System;
using System.Reflection;
[assembly: global::System.Runtime.Versioning.TargetFrameworkAttribute(".NETCoreApp,Version=v8.0", FrameworkDisplayName = ".NET 8.0")]


--- PLIK: ProjectApp.DataModel.AssemblyInfo.cs ---

//------------------------------------------------------------------------------
// <auto-generated>
//     Ten kod zostaÅ‚ wygenerowany przez narzÄ™dzie.
//     Wersja wykonawcza:4.0.30319.42000
//
//     Zmiany w tym pliku mogÄ… spowodowaÄ‡ nieprawidÅ‚owe zachowanie i zostanÄ… utracone, jeÅ›li
//     kod zostanie ponownie wygenerowany.
// </auto-generated>
//------------------------------------------------------------------------------

using System;
using System.Reflection;

[assembly: System.Reflection.AssemblyCompanyAttribute("ProjectApp.DataModel")]
[assembly: System.Reflection.AssemblyConfigurationAttribute("Debug")]
[assembly: System.Reflection.AssemblyFileVersionAttribute("1.0.0.0")]
[assembly: System.Reflection.AssemblyInformationalVersionAttribute("1.0.0+f0f25280a038ba61c523c8171ba8c6cb92b7ae34")]
[assembly: System.Reflection.AssemblyProductAttribute("ProjectApp.DataModel")]
[assembly: System.Reflection.AssemblyTitleAttribute("ProjectApp.DataModel")]
[assembly: System.Reflection.AssemblyVersionAttribute("1.0.0.0")]

// Wygenerowane przez klasÄ™ WriteCodeFragment programu MSBuild.



--- PLIK: ProjectApp.DataModel.GlobalUsings.g.cs ---

// <auto-generated/>
global using global::System;
global using global::System.Collections.Generic;
global using global::System.IO;
global using global::System.Linq;
global using global::System.Net.Http;
global using global::System.Threading;
global using global::System.Threading.Tasks;


--- PLIK: IDataSeeder.cs ---

using System;
using System.Collections.Generic;
using System.Linq;
using System.Text;
using System.Threading.Tasks;

namespace ProjectApp.ServiceAbstractions
{
    public interface IDataSeeder
    {
        SeedResult Seed();
    }
    public sealed class SeedResult
    {
        public Guid pckg1 { get; init; }
        public Guid pckg2 { get; init; }
        public Guid pckg3 { get; init; }
    }
}


--- PLIK: IPackageService.cs ---

using ProjectApp.DataModel;

namespace ProjectApp.ServiceAbstractions
{
    public interface IPackageService
    {
        bool UpdatePackageStatus(Guid trackingNumber, PackageStatus status);

        bool UpdatePaymentStatus(Guid trackingNumber, PaymentStatus status);

        public Guid CreatePackage(Guid trackingNumber, DateTime sentDate, float weight, string size);

        IReadOnlyList<Package> GetAll();

        IEnumerable<Package> Search(Guid trackingNumber);
    }
}


--- PLIK: .NETCoreApp,Version=v8.0.AssemblyAttributes.cs ---

// <autogenerated />
using System;
using System.Reflection;
[assembly: global::System.Runtime.Versioning.TargetFrameworkAttribute(".NETCoreApp,Version=v8.0", FrameworkDisplayName = ".NET 8.0")]


--- PLIK: ProjectApp.ServiceAbstractions.AssemblyInfo.cs ---

//------------------------------------------------------------------------------
// <auto-generated>
//     Ten kod zostaÅ‚ wygenerowany przez narzÄ™dzie.
//     Wersja wykonawcza:4.0.30319.42000
//
//     Zmiany w tym pliku mogÄ… spowodowaÄ‡ nieprawidÅ‚owe zachowanie i zostanÄ… utracone, jeÅ›li
//     kod zostanie ponownie wygenerowany.
// </auto-generated>
//------------------------------------------------------------------------------

using System;
using System.Reflection;

[assembly: System.Reflection.AssemblyCompanyAttribute("ProjectApp.ServiceAbstractions")]
[assembly: System.Reflection.AssemblyConfigurationAttribute("Debug")]
[assembly: System.Reflection.AssemblyFileVersionAttribute("1.0.0.0")]
[assembly: System.Reflection.AssemblyInformationalVersionAttribute("1.0.0+f0f25280a038ba61c523c8171ba8c6cb92b7ae34")]
[assembly: System.Reflection.AssemblyProductAttribute("ProjectApp.ServiceAbstractions")]
[assembly: System.Reflection.AssemblyTitleAttribute("ProjectApp.ServiceAbstractions")]
[assembly: System.Reflection.AssemblyVersionAttribute("1.0.0.0")]

// Wygenerowane przez klasÄ™ WriteCodeFragment programu MSBuild.



--- PLIK: ProjectApp.ServiceAbstractions.GlobalUsings.g.cs ---

// <auto-generated/>
global using global::System;
global using global::System.Collections.Generic;
global using global::System.IO;
global using global::System.Linq;
global using global::System.Net.Http;
global using global::System.Threading;
global using global::System.Threading.Tasks;


--- PLIK: DataSeeder.cs ---

using ProjectApp.DataAccess.Memory;
using ProjectApp.DataModel;
using ProjectApp.ServiceAbstractions;

namespace ProjectApp.Services
{
    public class DataSeeder : IDataSeeder
    {
        private readonly IPackageService _packageService;
        private readonly MemoryDbContext _db;

        public DataSeeder(IPackageService packageService, MemoryDbContext db)
        {
            _packageService = packageService;
            _db = db;
        }

        public SeedResult Seed()
        {
            var pckg1 = _packageService.CreatePackage(Guid.NewGuid(), DateTime.Now, 2.5f, "Big");
            var pckg2 = _packageService.CreatePackage(Guid.Parse("21372137-2137-2137-2137-213721372137"), DateTime.Now.AddDays(-1), 1.0f, "Small");
            var pckg3 = _packageService.CreatePackage(Guid.NewGuid(), DateTime.Now.AddDays(-2), 5.0f, "Huge");

            _db.Vehicles.Add(new Vehicle { Brand = "Ford", Model = "Transit", RegNumber = "WA 12345", VehicleStatus = "Available" });
            _db.Workers.Add(new Worker { FirstName = "Jan", LastName = "Kowalski", Position = "Kurier" });
            _db.Workers.Add(new Worker { FirstName = "Adam", LastName = "Nowak", Position = "Magazynier" });

            return new SeedResult { pckg1 = pckg1, pckg2 = pckg2, pckg3 = pckg3 };
        }
    }
}


--- PLIK: LogisticsService.cs ---

using ProjectApp.DataAccess.Memory;
using ProjectApp.DataModel;

namespace ProjectApp.Services
{
    public class LogisticsService
    {
        private readonly MemoryDbContext _db;

        public LogisticsService(MemoryDbContext db)
        {
            _db = db;
        }

        public bool AssignVehicleToWorker(Guid workerId, Guid vehicleId)
        {
            var worker = _db.Workers.FirstOrDefault(w => w.WorkerId == workerId);
            var vehicle = _db.Vehicles.FirstOrDefault(v => v.VehicleId == vehicleId);

            if (worker == null || vehicle == null) return false;

            if (vehicle.VehicleStatus != "Available") return false;

            worker.AssignedVehicleId = vehicle.VehicleId;
            vehicle.VehicleStatus = "InUse";

            return true;
        }

        public bool AssignPackageToCourier(Guid packageId, Guid workerId)
        {
            var package = _db.Packages.FirstOrDefault(p => p.TrackingNumber == packageId);
            var worker = _db.Workers.FirstOrDefault(w => w.WorkerId == workerId);

            if (package == null || worker == null) return false;

            if (worker.Position != "Kurier" || worker.AssignedVehicleId == null) return false;

            package.AssignedWorkerId = worker.WorkerId;
            package.PackageStatus = PackageStatus.InTransit;

            return true;
        }
    }
}


--- PLIK: PackageService.cs ---

using ProjectApp.Abstractions;
using ProjectApp.DataModel;
using ProjectApp.ServiceAbstractions;

namespace ProjectApp.Services
{
    public class PackageService : IPackageService
    {
        private readonly IPackageRepository _packages;

        public PackageService(IPackageRepository packages)
        {
            _packages = packages;
        }

        public Guid CreatePackage(Guid trackingNumber, DateTime sentDate, float weight, string size)
        {
            var package = new Package
            {
                TrackingNumber = trackingNumber,
                SentDate = sentDate,
                Weight = weight,
                Size = size,
                PackageStatus = PackageStatus.Sent
            };

            _packages.Add(package);
            return package.TrackingNumber;
        }

        public IReadOnlyList<Package> GetAll()
        {
            return _packages.Query().OrderBy(m => m.SentDate).ToList();
        }

        public IEnumerable<Package> Search(Guid trackingNumber)
        {
            return _packages.GetAll().Where(p => p.TrackingNumber == trackingNumber);
        }

        public Package? Get(Guid trackingNumber)
        {
            return _packages.Get(trackingNumber);
        }

        public bool UpdatePackageStatus(Guid trackingNumber, PackageStatus status)
        {
            var m = _packages.Get(trackingNumber);
            if (m is null) return false;
            m.PackageStatus = status;
            return true;
        }

        public bool UpdatePaymentStatus(Guid trackingNumber, PaymentStatus status)
        {
            var m = _packages.Get(trackingNumber);
            if (m is null) return false;
            m.PaymentStatus = status;
            return true;
        }
    }
}


--- PLIK: .NETCoreApp,Version=v8.0.AssemblyAttributes.cs ---

// <autogenerated />
using System;
using System.Reflection;
[assembly: global::System.Runtime.Versioning.TargetFrameworkAttribute(".NETCoreApp,Version=v8.0", FrameworkDisplayName = ".NET 8.0")]


--- PLIK: ProjectApp.Services.AssemblyInfo.cs ---

//------------------------------------------------------------------------------
// <auto-generated>
//     Ten kod zostaÅ‚ wygenerowany przez narzÄ™dzie.
//     Wersja wykonawcza:4.0.30319.42000
//
//     Zmiany w tym pliku mogÄ… spowodowaÄ‡ nieprawidÅ‚owe zachowanie i zostanÄ… utracone, jeÅ›li
//     kod zostanie ponownie wygenerowany.
// </auto-generated>
//------------------------------------------------------------------------------

using System;
using System.Reflection;

[assembly: System.Reflection.AssemblyCompanyAttribute("ProjectApp.Services")]
[assembly: System.Reflection.AssemblyConfigurationAttribute("Debug")]
[assembly: System.Reflection.AssemblyFileVersionAttribute("1.0.0.0")]
[assembly: System.Reflection.AssemblyInformationalVersionAttribute("1.0.0+f0f25280a038ba61c523c8171ba8c6cb92b7ae34")]
[assembly: System.Reflection.AssemblyProductAttribute("ProjectApp.Services")]
[assembly: System.Reflection.AssemblyTitleAttribute("ProjectApp.Services")]
[assembly: System.Reflection.AssemblyVersionAttribute("1.0.0.0")]

// Wygenerowane przez klasÄ™ WriteCodeFragment programu MSBuild.



--- PLIK: ProjectApp.Services.GlobalUsings.g.cs ---

// <auto-generated/>
global using global::System;
global using global::System.Collections.Generic;
global using global::System.IO;
global using global::System.Linq;
global using global::System.Net.Http;
global using global::System.Threading;
global using global::System.Threading.Tasks;


--- PLIK: InMemoryServicesFixture.cs ---

using ProjectApp.DataAccess.Memory;
using ProjectApp.DataAccess.Memory.Repositories;
using ProjectApp.Abstractions;
using ProjectApp.Services;
using ProjectApp.ServiceAbstractions;

public class InMemoryServicesFixture
{
    private DataSeeder _dataSeeder;
    public IPackageService PackageService { get; }

    public InMemoryServicesFixture()
    {
        var db = new MemoryDbContext();

        IPackageRepository packageRepo = new PackageRepositoryMemory(db);

        _dataSeeder = new DataSeeder(PackageService);
        _dataSeeder.Seed();
    }
}


--- PLIK: LogisticsServiceTests.cs ---

using ProjectApp.DataAccess.Memory;
using ProjectApp.DataModel;
using ProjectApp.Services;
using Xunit;

public class LogisticsServiceTests
{
    [Fact]
    public void AssignPackageToCourier_ShouldFail_IfWorkerHasNoVehicle()
    {
        var db = new MemoryDbContext();
        var service = new LogisticsService(db);

        var worker = new Worker { WorkerId = Guid.NewGuid(), Position = "Kurier" };
        var package = new Package { TrackingNumber = Guid.NewGuid(), PackageStatus = PackageStatus.Sent };

        db.Workers.Add(worker);
        db.Packages.Add(package);

        var result = service.AssignPackageToCourier(package.TrackingNumber, worker.WorkerId);

        Assert.False(result);
        Assert.Equal(PackageStatus.Sent, package.PackageStatus);
    }

    [Fact]
    public void AssignPackageToCourier_ShouldSuccess_IfWorkerHasVehicle()
    {
        var db = new MemoryDbContext();
        var service = new LogisticsService(db);

        var vehicle = new Vehicle { VehicleId = Guid.NewGuid(), VehicleStatus = "Available" };
        var worker = new Worker { WorkerId = Guid.NewGuid(), Position = "Kurier", AssignedVehicleId = vehicle.VehicleId };
        var package = new Package { TrackingNumber = Guid.NewGuid(), PackageStatus = PackageStatus.Sent };

        db.Vehicles.Add(vehicle);
        db.Workers.Add(worker);
        db.Packages.Add(package);

        var result = service.AssignPackageToCourier(package.TrackingNumber, worker.WorkerId);

        Assert.True(result);
        Assert.Equal(PackageStatus.InTransit, package.PackageStatus);
        Assert.Equal(worker.WorkerId, package.AssignedWorkerId);
    }
}


--- PLIK: PackageServiceTests.cs ---

using ProjectApp.ServiceAbstractions;
using Xunit;

public class PackageServiceTest : IClassFixture<InMemoryServicesFixture>
{
    private readonly IPackageService _packageService;

    public PackageServiceTest(InMemoryServicesFixture fx)
    {
        _packageService = fx.PackageService;

    }
    [Fact]
    public void Search_ShouldFindPackage2137()
    {
        var id = Guid.Parse("2137");
        var results = _packageService.Search(id);
        Assert.Contains(results, p => p.TrackingNumber == id);
    }
}


--- PLIK: .NETCoreApp,Version=v8.0.AssemblyAttributes.cs ---

// <autogenerated />
using System;
using System.Reflection;
[assembly: global::System.Runtime.Versioning.TargetFrameworkAttribute(".NETCoreApp,Version=v8.0", FrameworkDisplayName = ".NET 8.0")]


--- PLIK: ProjectApp.Test.AssemblyInfo.cs ---

//------------------------------------------------------------------------------
// <auto-generated>
//     Ten kod zostaÅ‚ wygenerowany przez narzÄ™dzie.
//     Wersja wykonawcza:4.0.30319.42000
//
//     Zmiany w tym pliku mogÄ… spowodowaÄ‡ nieprawidÅ‚owe zachowanie i zostanÄ… utracone, jeÅ›li
//     kod zostanie ponownie wygenerowany.
// </auto-generated>
//------------------------------------------------------------------------------

using System;
using System.Reflection;

[assembly: System.Reflection.AssemblyCompanyAttribute("ProjectApp.Test")]
[assembly: System.Reflection.AssemblyConfigurationAttribute("Debug")]
[assembly: System.Reflection.AssemblyFileVersionAttribute("1.0.0.0")]
[assembly: System.Reflection.AssemblyInformationalVersionAttribute("1.0.0+f0f25280a038ba61c523c8171ba8c6cb92b7ae34")]
[assembly: System.Reflection.AssemblyProductAttribute("ProjectApp.Test")]
[assembly: System.Reflection.AssemblyTitleAttribute("ProjectApp.Test")]
[assembly: System.Reflection.AssemblyVersionAttribute("1.0.0.0")]

// Wygenerowane przez klasÄ™ WriteCodeFragment programu MSBuild.



--- PLIK: ProjectApp.Test.GlobalUsings.g.cs ---

// <auto-generated/>
global using global::System;
global using global::System.Collections.Generic;
global using global::System.IO;
global using global::System.Linq;
global using global::System.Net.Http;
global using global::System.Threading;
global using global::System.Threading.Tasks;
global using global::Xunit;
